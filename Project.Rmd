---
title: "Ecological Footprint by Coutry and by Year"
author: "from Daniel Welz, Guillaume Bilocq, Jasmine Mawjee, Virany Kho, Colin Steffe"
date: "`r Sys.Date()`"
output:
  html_document:
    theme: united
    highlight: tango
    toc: true
    toc_float: true
---

```{r data importation, echo=F, warning=F, message=F}

library(readr)

# Set option to remove any scientific notation
options(scipen=999)

# Upload the data 
data<- read_csv(here::here("NFA_2019_public_data.csv"))

```

# Introduction 

All of us are aware of the urgent need to reduce our individual ecological footprint by reducing our overall consumption, shift our purchasing habits, recycle more, invest in renewable energies and globally contribute to a common goal: a cleaner planet. Even though world leaders gather to unify and work as a united front towards sustainable changes with the ultimate goal to slow climate change, we still currently detect many unresolved issues regarding the topic of sustainability. 

Firstly, we understand that many aspects of sustainability are not well understood. Indeed, it is associated with many difficult terms (e.g. bio capacity, life-cycle analysis, embodied energy, footprint intensity, etc.) that non-specialists do not necessarily grasp. Because the average layman does not necessarily understand these terms and is sometimes overwhelmed by the overload of information in the News, individuals tend to completely turn away from reflecting about it. 

Secondly, it is not immediately obvious how our individual daily actions (e.g. limit water use waste, riding a bike over driving a car) fit in the overall picture of the community, country and the World. 

Thirdly, sustainability data is scattered among all kinds of media in a "fuzzy" way. Oftentimes when doing research about the topic, one ends up being constantly redirected to more and more sources that are not necessarily mutually exclusive and collectively exhaustive.

To address the above points and challenges, we want to create the S(ust)hinybility app based on a reliable database. This app aims at gathering worldwide data on carbon emissions caused by different types of production lands and exploit the information to produce visual outcomes enabling a user to look for specific information by country and by year. Therefore, the app will provide visualization to compare carbon emissions on a country (or region) level and understand the gravity and urgency of undertaking immediate long-lasting actions against climate change. 

The app aims to to have an impact on three different levels. First, the individuals are nudged to learn about ecological footprint. This increases knowledge and awareness and helps to make more informed decisions later on. Second, making ecological footprints comparable between countries helps to filter certain criteria and makes research more convenient. Here, the impact is a higher satisfaction of researchers looking for countries' involvement and responsibility towards sustainable changes. Third, the interactive app helps to track and trace developments. This tool could be a fact checker and used against wrongly spread information over the Internet in either way.

**Key terms**

  + **Ecological Footprint**: "A measure of how much area of biologically productive land and water an individual, population, or activity requires to produce all the resources it consumes and to absorb the waste it generates, using prevailing technology and resource management practices. The Ecological Footprint is usually measured in global hectares (gha). Because trade is global, an individual or country's Footprint includes land or sea from all over the world." [ADD REFERENCE LIKE WE DID IN THE FIRST HOMEWORK] 
  
  + **Biocapacity**: "The biocapacity of a surface represents its ability to renew what people demand. Biocapacity is therefore the ecosystems' capacity to produce biological materials used by people and to absorb waste material generated by humans, under current management schemes and extraction technologies. Biocapacity can change from year to year due to climate, management, and proportion considered useful inputs to the human economy. Biocapacity is expressed in global hectares." [ADD REFERENCE LIKE WE DID IN THE FIRST HOMEWORK] 
  
  + **Global Hectares**: "Global hectares are the accounting unit for the Ecological Footprint and biocapacity accounts. These productivity weighted biologically productive hectares allow researchers to report both the biocapacity of the earth or a region and the demand on biocapacity (the Ecological Footprint). A global hectare is a biologically productive hectare with world average biological productivity for a given year. Global hectares are useful because different land types have different productivities. A global hectare of cropland, for example, would occupy a smaller physical area than the much less biologically productive pasture land, as more pasture would be needed to provide the same biocapacity as one hectare of cropland. Because world productivity varies slightly from year to year, the value of a global hectare may change slightly from year to year."  [ADD REFERENCE LIKE WE DID IN THE FIRST HOMEWORK]
  
  + **National Footprint and Biocapacity Accounts**: "The central data set that calculates the Footprint and biocapacity of the world [...]. The ongoing development, maintenance, and upgrades of the National Footprint and Biocapacity Accounts are coordinated by the research team at Global Footprint Network and the Ecological Footprint Initiative at York University."  [ADD REFERENCE LIKE WE DID IN THE FIRST HOMEWORK]
  
  + **Carbon Footprint**: "The carbon Footprint measures CO2 emissions associated with fossil fuel use. In Ecological Footprint accounts, these amounts are converted into biologically productive areas necessary for absorbing this CO2. The carbon Footprint is included in the Ecological Footprint because it is a competing use of bioproductive space, since increasing CO2 concentrations in the atmosphere are considered to represent a build-up of ecological debt. Some carbon Footprint assessments express results in tonnes released per year, without translating this amount into area needed to sequester it." [ADD REFERENCE LIKE WE DID IN THE FIRST HOMEWORK]
  
  + **Consumption**: "Use of goods or of services. The term consumption has two different meanings, depending on context. As commonly used regarding the Footprint, it refers to the use of goods or services. A consumed good or service embodies all the resources, including energy, necessary to provide it to the consumer. In full life-cycle accounting, everything used along the production chain is considered, including any losses along the way. For example, consumed food includes not only the plant or animal matter people eat or waste in the household, but also that lost during processing or harvest, as well as all the energy used to grow, harvest, process and transport the food." [ADD REFERENCE LIKE WE DID IN THE FIRST HOMEWORK]
  
  + **Calculation factor**: "A generic term for factors which are used to translate a material flow expressed within one measurement system into another one. For example, a combination of two calculation factors—“yield factors” and “equivalence factors”— translates hectares into global hectares. The extraction rate calculation factor translates a secondary product into primary product equivalents. Calculation factors are available for download here." [ADD REFERENCE LIKE WE DID IN THE FIRST HOMEWORK]
  
  + **Ecological Deficit / Reserve**: "The difference between the biocapacity and Ecological Footprint of a region or country. An ecological deficit occurs when the Footprint of a population exceeds the biocapacity of the area available to that population. Conversely, an ecological reserve exists when the biocapacity of a region exceeds its population's Footprint. If there is a regional or national ecological deficit, it means that the region is importing biocapacity through trade or liquidating regional ecological assets, or emitting wastes into the global commons such as the atmosphere. In contrast to the national scale, the global ecological deficit cannot be compensated for through trade, and is therefore equal to overshoot by definition." [ADD REFERENCE LIKE WE DID IN THE FIRST HOMEWORK]
  
  + **Land Type**: "The Earth's approximately 12 billion hectares of biologically productive land and water areas are categorized into five types: cropland, grazing land, forest land, fishing ground, and built-up land." [ADD REFERENCE LIKE WE DID IN THE FIRST HOMEWORK]

  + **Biocapacity Per Person (or Per Capita)**: "There were ~ 12 billion hectares of biologically productive land and water areas on Earth in 2017. Dividing by the number of people alive in that year (7.5 billion) gives 1.6 global hectares per person. This area also needs to accommodate the wild species that compete for the same biological material and spaces as humans." [ADD REFERENCE LIKE WE DID IN THE FIRST HOMEWORK]
  
  + **Biologically Productive Land and Water**: "The land and water (both marine and inland waters) area that supports significant photosynthetic activity and the accumulation of biomass used by humans. Non-productive areas as well as marginal areas with patchy vegetation are not included. Biomass that is not of use to humans is also not included. The total biologically productive area on land and water in 2014 was approximately 12 billion hectares." [ADD REFERENCE LIKE WE DID IN THE FIRST HOMEWORK]
  
# Data description 

The data set we use comes from the 2019 edition of the *National Footprint and Biocapacity Accounts* which is supervised by a team at York University’s Faculty of Environmental Studies (FES) who is part of the Ecological Footprint Initiative.

In this section, we go over the variables of the data set to better understand their meaning. The (public) data set has 12 variables and provide information on 72,186 observations on 192 countries:

  + **country**: Provides the name of the country under focus
  
  + **Year**: For each country data is provided for 55 years, from 1961 until 2016. Some countries have less observation since founded after 1961 (e.g. Armenia in 1991).
    
  + **country_code**: Country numerical identifier
  
  + **record**: For each year and for each country, eight different records are made.
      1. **AreaPerCap**: Area divided by population
      2. **AreaTotHA**: Total area in hectare (ha)
      3. **BiocapPerCap**: Biocapacity (in gha) divided by population
      4. **BiocapTotGHA**: Total biocapacity (in gha)
      5. **EFConsPerCap**: Ecological Footprint of consumption (in gha) divided by population
      6. **EFConsTotGHA**: Total Ecological Footprint of consumption (in gha)
      7. **EFProdPerCap**: Ecological Footprint of production (in gha) divided by population
      8. **EFProdTotGHA**: Total Ecological Footprint of production (in gha)
      
  + **crop_land**: The cropland Footprint provides the amount of land necessary to grow all crops consumed by humans and livestock (includes agricultural products, market animal feed, and cropped grasses used as livestock feed).  

  + **grazing_land**: The grazing land Footprint assesses demand for grazing land to feed livestock and the demand for grazing land in traded goods. 
  
  + **forest_land**: The forest products Footprint assesses human demand for the products of the world’s forests, wood used for fuel and timber and pulp used to produce derived wood products.
  
  + **fishing_ground**: The fishing ground Footprint represents the demands of fisheries on aquatic ecosystems. It is calculated by dividing the amount of primary production consumed by an aquatic specy over its lifetime by an estimate of the harvestable primary production per hectare of marine area.
  
  + **built_up_land**: The built-up land Footprint represents bioproductive land that has been physically occupied by human activities (e.g. infrastructure areas required for housing, transportation, industrial production). 
  
  + **carbon**: The carbon Footprint represents the area of forest land required to sequester anthropogenic carbon dioxide emissions (e.g. domestic fossil fuel combustion, electricity use, embodied carbon in traded items and electricity, transport emissions, and non-fossil-fuel sources).
  
  + **total**: Total Footprint (i.e. sum of carbon, built-up land, fishing ground, forest land, grazing land and crop land Footprint)
  
  + **Qscore**: Quality of overall country data. The National Footprint and Biocapacity Accounts uses internationally available data from multiple data sets for all countries for each year going back to 1961. 
  
Citation: 
Here is a suggested citation: Global Footprint Network National Footprint and Biocapacity Accounts, 2021 Edition Downloaded [today's date] from https://data.footprintnetwork.org.

# Exploratory Data Analysis (EDA)

In this section we visually investigate what our data set is composed of. 

To first have an overall view of the impact of production on the world ecological footprint, we look at the total ecological footprint of production for all countries available in the data set for the most recent year available, 2016. 

According to the below map of the world, we see that the country which has the highest impact on the environment in terms of total production (considering the countries for which we have data) is China with 4,909,131,874 gha. This observation could potentially be explained by two facts. The fist one could be the Chinese production/consumption culture relying on a fast-paced production (e.g. fast-fashion) but also on globalization and countries urge to produce at very low costs therefore migrating production to China. 
      
```{r map total footprint, echo=F, warning=F, message=F}

library(tidyverse)
library(dplyr)
library(plotly)

# Create a data frame of map data 
mapdata <- map_data("world") %>%
           rename(country = region)

# Create a subset of our data
EFProdTotGHA_mr <- data %>%
                   filter(record == "EFProdTotGHA" & year == 2016)

# Add coordinates to our data 
EFProdTotGHA_mr <- left_join(mapdata,
                             EFProdTotGHA_mr,
                             by = "country")

# Plot the map
map1 <- ggplot(EFProdTotGHA_mr,
               mapping = aes(x = long,
                             y = lat,
                             group = group, # change NA for a lighter grey colour
                             text = paste("Country: ", country,
                                          "<br>Crop land: ", crop_land,
                                          "<br>Grazing land: ", grazing_land,
                                          "<br>Forest land: ", forest_land,
                                          "<br>Fishing ground: ", fishing_ground,
                                          "<br>Total: ", total))) +

         geom_polygon(aes(fill = total)) +

         # Plot legends
         labs(title = "Total Ecological Footprint of Production (in gha) in 2016",
              subtitle = "Note: grey colored countries have unavailable data",
              caption = "source: GFN Country Code Concordance Table.csv",
              fill = "Total Ecological Footprint of Production") +

          # Plot layout
          theme(rect = element_blank(),
                axis.ticks.y = element_blank(),
                axis.ticks.x = element_blank(),
                axis.text.y = element_blank(),
                axis.title.y = element_blank(),
                axis.title.x = element_blank(),
                axis.text.x = element_blank())  +
                
           theme(plot.title = element_text(hjust = 0.5))

ggplotly(map1,
         tooltip = "text")

```

# R package
1) what does the package do ? 
2) is the organization of the/hierarchy of the package folder 
3) where to look for information on how to use it 
4) How did we create the package ? what packages used and fucntions ?

# S(ust)hinybility app
1) what does the shiny app do ? 
2) How can a user use it ?
3) What are the features ? 
3) How did we create the shiny app ? what packages used and fucntions ?

# Website

```{r website creation, echo=F, message=F, warning=F}

library(blogdown)

```

1) What do we find on the website
2) How did we create it (steps)? and what packages we used ?

# Conclusion 

# Glossary

# Appendix
Add all the sources we use for package creation/website creation/our class/for the data set used 
